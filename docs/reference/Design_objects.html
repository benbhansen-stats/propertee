<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Generates a randomized control treatment Design (rct_design()), or an
observational Design (obs_design()), or a regression discontinuity
Design (rd_design())."><title>Generates a Design object with the given specifications. — rct_design • flexida</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generates a Design object with the given specifications. — rct_design"><meta property="og:description" content="Generates a randomized control treatment Design (rct_design()), or an
observational Design (obs_design()), or a regression discontinuity
Design (rd_design())."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">flexida</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/CovarianceAdjustment.html">Covariance Adjustment for Randomized Trials</a>
    <a class="dropdown-item" href="../articles/LinearModelVarianceEstimation.html">Variance Estimation Testing Using A Simple Linear Specification</a>
    <a class="dropdown-item" href="../articles/RDD.html">Regression Discontinuity Designs</a>
    <a class="dropdown-item" href="../articles/design_based_SEs.html">Design based sandwich SEs for differences of Hajek estimators</a>
    <a class="dropdown-item" href="../articles/not-for-cran/covadj_with_clustering.html">Covariance-adjusted standard errors in a clustered longitudinal setting</a>
    <a class="dropdown-item" href="../articles/not-for-cran/non-binary-weights.html">Non-Binary Treatment</a>
    <a class="dropdown-item" href="../articles/sandwich_infrastructure.html">Data structures to support standard error calculations for direct adjustment assisted by a prior covariance model</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/benbhansen-stats/flexida/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generates a <code>Design</code> object with the given specifications.</h1>
      <small class="dont-index">Source: <a href="https://github.com/benbhansen-stats/flexida/blob/HEAD/R/Design.R" class="external-link"><code>R/Design.R</code></a></small>
      <div class="d-none name"><code>Design_objects.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates a randomized control treatment Design (<code>rct_design()</code>), or an
observational Design (<code>obs_design()</code>), or a regression discontinuity
Design (<code>rd_design()</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rct_design</span><span class="op">(</span><span class="va">formula</span>, <span class="va">data</span>, subset <span class="op">=</span> <span class="cn">NULL</span>, dichotomy <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rd_design</span><span class="op">(</span><span class="va">formula</span>, <span class="va">data</span>, subset <span class="op">=</span> <span class="cn">NULL</span>, dichotomy <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">obs_design</span><span class="op">(</span><span class="va">formula</span>, <span class="va">data</span>, subset <span class="op">=</span> <span class="cn">NULL</span>, dichotomy <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>formula</dt>
<dd><p>defines the <code>Design</code> components</p></dd>


<dt>data</dt>
<dd><p>the data set.</p></dd>


<dt>subset</dt>
<dd><p>optionally subset the data before creating the <code>Design</code>
object</p></dd>


<dt>dichotomy</dt>
<dd><p>optionally, a formula defining the dichotomy of the
treatment variable if it isn't already 0/1 or <code>logical</code>. See details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a Design object of the requested type for use in further analysis</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The formula must include exactly one of <code><a href="DesignSpecials.html">unit_of_assignment()</a></code>,
<code><a href="DesignSpecials.html">uoa()</a></code>, <code><a href="DesignSpecials.html">cluster()</a></code>, or <code><a href="DesignSpecials.html">unitid()</a></code> to identify the units of
assignment (one or more variables). If defining an rd_design, the formula
must also include a <code><a href="DesignSpecials.html">forcing()</a></code> entry. The formula may optionally
include a <code><a href="DesignSpecials.html">block()</a></code> entry as well.</p>
<p>The treatment variable passed into the left-hand side of <code>formula</code> can
either be <code>logical</code>, <code>numeric</code>, or <code>character</code>. If it is
anything else, it is attemped to be converted to one of those (for example,
<code>factor</code> and <code>ordered</code> are converted to <code>numeric</code> if the
levels are <code>numeric</code>, otherwise to <code>character</code>. If the treatment
is not <code>logical</code> or <code>numeric</code> with only values 0 and 1, in order
to generate weights with <code><a href="WeightCreators.html">ate()</a></code> or <code><a href="WeightCreators.html">ett()</a></code>, the <code>dichotomy</code>
argument must be used to identify the treatment and control groups. The
<code>Design</code> creation functions (<code>rct_design()</code>, <code>rd_design()</code>,
<code>obs_design()</code>) all support the <code>dichotomy</code> argument, or instead
<code>dichotomy</code> can be passed to <code><a href="WeightCreators.html">ett()</a></code> and <code><a href="WeightCreators.html">ate()</a></code> directly.</p>
<p>The <code>dichotomy</code> argument should be a formula consisting of a
conditional statement on both the left-hand side (identifying treatment
levels associated with "treatment") and the right hand side (identifying
treatment levels associated with "control"). For example, if your treatment
variable was called <code>dose</code>, you might write:</p>
<p><code>dichotomy = dose &gt; 250 ~ dose &lt;= 250</code></p>
<p>The conditionals need not assign all values of treatment to control or
treatment, for example, <code>dose &gt; 300 ~ dose &lt; 200</code> does not handle
<code>200 &lt;= dose &lt;= 300</code>. Units of assignment with treatment values not
assigned to either treatment or control as assumed to not recieve either,
but will be maintained in the Design for proper standard error calculations.</p>
<p>The period (<code>.</code>) can be used to assign all other units of assignment.
For example, we could have written the above example as</p>
<p><code>dichotomy = dose &gt; 250 ~ .</code></p>
<p>or</p>
<p><code>dichotomy = . ~ dose &lt;= 250</code></p>
<p>The <code>dichotomy</code> formula supports all Relational Operators, Logical
Operators, and <code>%in%</code>.</p>
<p>Note that you can specify a conditional logic treatment in the formula (e.g.
<code>rct_design(dose &gt; 250 ~ unitOfAssignment(...</code>) but we would suggest
instead passing the treatment variable directly and using <code>dichotomy</code>.
Otherwise changing the dichotomy will require re-creating the Design,
instead of simply using <code>dichotomy(design) &lt;-</code> or passing
<code>dichotomy</code> to <code><a href="WeightCreators.html">ate()</a></code> or <code><a href="WeightCreators.html">ett()</a></code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

